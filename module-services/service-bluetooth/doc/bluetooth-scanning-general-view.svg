<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="388px" preserveAspectRatio="none" style="width:547px;height:388px;background:#F0F0F0;" version="1.1" viewBox="0 0 547 388" width="547px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vf3wp9gfpmq6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="231.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="132" y="98.5625"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="137" y="193.9609"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="301.3594"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="253.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="444" y="48.2969"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="35.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="449" y="223.0938"/><rect fill="#F0F0F0" filter="url(#f1vf3wp9gfpmq6)" height="117.5313" style="stroke: #000000; stroke-width: 2.0;" width="522" x="14" y="155.6953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="136.5" x2="136.5" y1="38.2969" y2="348.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="292" x2="292" y1="38.2969" y2="348.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="449" x2="449" y1="38.2969" y2="348.4922"/><rect fill="#FEFECE" filter="url(#f1vf3wp9gfpmq6)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="67.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="74.5" y="22.9951">Worker Bluetooth</text><rect fill="#FEFECE" filter="url(#f1vf3wp9gfpmq6)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="67.5" y="347.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="74.5" y="367.4873">Worker Bluetooth</text><rect fill="#FEFECE" filter="url(#f1vf3wp9gfpmq6)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="222" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="229" y="22.9951">Service Bluetooth</text><rect fill="#FEFECE" filter="url(#f1vf3wp9gfpmq6)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="222" y="347.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="229" y="367.4873">Service Bluetooth</text><rect fill="#FEFECE" filter="url(#f1vf3wp9gfpmq6)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="372" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="379" y="22.9951">Application Settings</text><rect fill="#FEFECE" filter="url(#f1vf3wp9gfpmq6)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="372" y="347.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="379" y="367.4873">Application Settings</text><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="231.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="132" y="98.5625"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="137" y="193.9609"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="301.3594"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="253.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="444" y="48.2969"/><rect fill="#FFFFFF" filter="url(#f1vf3wp9gfpmq6)" height="35.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="449" y="223.0938"/><polygon fill="#A80036" points="308,65.4297,298,69.4297,308,73.4297,304,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="443" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="314" y="64.3638">start scanning msg</text><polygon fill="#A80036" points="153,94.5625,143,98.5625,153,102.5625,149,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="291" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="159" y="93.4966">command(scanOn)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="142" x2="184" y1="127.6953" y2="127.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="184" x2="184" y1="127.6953" y2="140.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="143" x2="184" y1="140.6953" y2="140.6953"/><polygon fill="#A80036" points="153,136.6953,143,140.6953,153,144.6953,149,140.6953" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="149" y="122.6294">scanOn</text><path d="M14,155.6953 L91,155.6953 L91,162.6953 L81,172.6953 L14,172.6953 L14,155.6953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="117.5313" style="stroke: #000000; stroke-width: 2.0;" width="522" x="14" y="155.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="29" y="168.7622">loop</text><ellipse cx="10.5" cy="193.2109" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="120,189.9609,130,193.9609,120,197.9609,124,193.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="126" y1="193.9609" y2="193.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="18" y="188.895">device detected</text><polygon fill="#A80036" points="437,219.0938,447,223.0938,437,227.0938,441,223.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="142" x2="443" y1="223.0938" y2="223.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="149" y="218.0278">available device msg</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="459" x2="501" y1="257.2266" y2="257.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="501" x2="501" y1="257.2266" y2="270.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="454" x2="501" y1="270.2266" y2="270.2266"/><polygon fill="#A80036" points="464,266.2266,454,270.2266,464,274.2266,460,270.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="466" y="252.1606">process</text><polygon fill="#A80036" points="308,297.3594,298,301.3594,308,305.3594,304,301.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="448" y1="301.3594" y2="301.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="314" y="296.2935">stop scanning msg</text><polygon fill="#A80036" points="148,326.4922,138,330.4922,148,334.4922,144,330.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="142" x2="291" y1="330.4922" y2="330.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="154" y="325.4263">command(stanOff)</text><!--MD5=[09fa92b7a8d40aab8e6d58f00c343db4]
@startuml
skinparam BackgroundColor F0F0F0

participant "Worker Bluetooth" as workbt
participant "Service Bluetooth" as srvbt
participant "Application Settings" as appsett

activate appsett
appsett->srvbt : start scanning msg
    activate srvbt
    srvbt -> workbt : command(scanOn)
        deactivate srvbt
        activate workbt
        workbt -> workbt : scanOn
        loop
            [o-> workbt : device detected
            activate workbt
            workbt -> appsett : available device msg
            deactivate workbt
            activate appsett
                appsett -> appsett : process
            deactivate appsett
        end
appsett->srvbt : stop scanning msg
    deactivate appsett
    activate srvbt
    srvbt -> workbt : command(stanOff)
        deactivate srvbt
        deactivate workbt

@enduml

PlantUML version 1.2020.02(Sun Mar 01 05:22:07 EST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.12+7-post-Debian-2
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>